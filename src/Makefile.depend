# source files
SRCS := \
	Domain.cpp \
	Particles.cpp \
	LinearSolver.cpp \
	Utility.cpp \
	PlotWriter.cpp \
	TimeCtr.cpp \
	DomainIO.cpp \
	BC.cpp \
	FluidInterface.cpp

# intermediate directory for generated dependency files
DEPDIR := .d

# object files, auto generated from source files
OBJS := $(patsubst %, %.o,$(basename $(SRCS)))
# dependency files, auto generated from source files
DEPS := $(patsubst %, $(DEPDIR)/%.d,$(basename $(SRCS)))

# compilers (at least gcc and clang) don't create the subdirectories automatically
$(shell mkdir -p $(dir $(OBJS)) >/dev/null)
$(shell mkdir -p $(dir $(DEPS)) >/dev/null)

DEPFLAGS = -MT $@ -MD -MP -MF $(DEPDIR)/$*.d

.PRECIOUS: $(DEPDIR)/%.d
$(DEPDIR)/%.d: ;
-include $(DEPS)
